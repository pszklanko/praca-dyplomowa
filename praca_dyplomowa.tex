\documentclass[a4paper,12pt,twoside,openany]{report}
%
% Wzorzec pracy dyplomowej
% J. Starzynski (jstar@iem.pw.edu.pl) na podstawie pracy dyplomowej
% mgr. inż. Błażeja Wincenciaka
% Wersja 0.1 - 8 października 2016
%
\usepackage{polski}
\usepackage{helvet}
\usepackage[T1]{fontenc}
\usepackage{anyfontsize}
\usepackage[utf8]{inputenc}
\usepackage[pdftex]{graphicx}
\usepackage{tabularx}
\usepackage{array}
\usepackage{listings}
\usepackage[polish]{babel}
\usepackage{subfigure}
\usepackage{amsfonts}
\usepackage{verbatim}
\usepackage{indentfirst}
\usepackage[pdftex]{hyperref}


% rozmaite polecenia pomocnicze
% gdzie rysunki?
\newcommand{\ImgPath}{.}

% oznaczenie rzeczy do zrobienia/poprawienia
\newcommand{\TODO}{\textbf{TODO}}


% wyroznienie slow kluczowych
\newcommand{\tech}{\texttt}

% na oprawe (1.0cm - 0.7cm)*2 = 0.6cm
% na oprawe (1.1cm - 0.7cm)*2 = 0.8cm
%  oddsidemargin lewy margines na nieparzystych stronach
% evensidemargin lewy margines na parzystych stronach
\def\oprawa{1.05cm}
\addtolength{\oddsidemargin}{\oprawa}
\addtolength{\evensidemargin}{-\oprawa}

% table span multirows
\usepackage{multirow}
\usepackage{enumitem}	% enumitem.pdf
\setlist{listparindent=\parindent, parsep=\parskip} % potrzebuje enumitem

%%%%%%%%%%%%%%% Dodatkowe Pakiety %%%%%%%%%%%%%%%%%
\usepackage{prmag2017}   % definiuje komendy opieku,nrindeksu, rodzaj pracy, ...


%%%%%%%%%%%%%%% Strona Tytułowa %%%%%%%%%%%%%%%%%
% To trzeba wypelnic swoimi danymi
\title{Wykorzystanie protokołu HTTP/2 do budowy szybkiej aplikacji internetowej}

% autor
\author{Piotr Szklanko}
\nrindeksu{244145}

\opiekun{mgr inż. Bartosz Chaber}
\terminwykonania{1 lutego 2017} % data na oświadczeniu o samodzielności
\rok{2017}


% Podziekowanie - opcjonalne
% \podziekowania{\input{podziekowania.tex}}

% To sa domyslne wartosci
% - mozna je zmienic, jesli praca jest pisana gdzie indziej niz w ZETiIS
% - mozna je wyrzucic jesli praca jest pisana w ZETiIS
%\miasto{Warszawa}
%\uczelnia{POLITECHNIKA WARSZAWSKA}
%\wydzial{WYDZIAŁ ELEKTRYCZNY}
%\instytut{INSTYTUT ELEKTROTECHNIKI TEORETYCZNEJ\linebreak[1] I~SYSTEMÓW INFORMACYJNO-POMIAROWYCH}
% \zaklad{ZAKŁAD ELEKTROTECHNIKI TEORETYCZNEJ\linebreak[1] I~INFORMATYKI STOSOWANEJ}
\rodzajpracy{INŻYNIERSKA}
%\kierunekstudiow{INFORMATYKA}
%%% koniec od P.W

\opinie{%
  \input{opiniaopiekuna.tex}
  \newpage
  \input{recenzja.tex}
}

\streszczenia{
  \input{streszczenia.tex}
}

\begin{document}
\maketitle

%-----------------
% Wstęp
%-----------------
\chapter{Wstęp}
Moim celem jest przeprowadzenie testów protokołu HTTP w najnowszej wersji 2.0.
Obecnie powszechnie stosowana jest wersja 1.1, która została wprowadzona w roku 1999.
Jednakże szybki rozwój technologii internetowych sprawia, że wprowadzony osiemnaście lat temu protokół przestaje powoli spełniać swoje zadanie.
Obecnie bez wykorzystania serwerów CDN czy cache przeglądarki oraz innych sposobów nie jest możliwe stworzenie płynnie działającej strony internetowej.
Za pomocą własnoręcznie stworzonej aplikacji chcę przekonać się, czy wprowadzone funkcje faktycznie mają tak ogromny wpływ na szybkość komunikacji pomiędzy klientem i serwerem.

Swoją aplikację stworzyłem wykorzystując zestaw oprogramowania MEAN -- MongoDB, Express.js, Angular i Node.js.
\begin{itemize}
	\item MongoDB -- baza danych NoSQL (cos o mongoose? dodać dokumentację do wszystkich punktów),
	\item Express.js -- framework Node.js do tworzenia aplikacji sieciowych od strony serwera,
	\item Angular -- framework JavaScript służący do budowy dynamicznej aplikacji internetowej od strony użytkownika,
	\item Node.js -- środowisko uruchumieniowe języka JavaScript, które pozwala wystartować serwer.
\end{itemize}
Zdecydowałem się na to rozwiązanie z kilku powodów:
\begin{itemize}
	\item po przejrzeniu dostępnych w sieci informacji doszedłem do wniosku, że implementacja protokołu HTTP/2 jest najlepiej opisana oraz wspierana przez środowisko związane z JavaScriptem,
	\item dobra znajomość języka JavaScript oraz jednoczesna chęć rozwoju umiejętności tworzenia aplikacji w tym języku,
	\item chęć poszerzenia wiedzy dotyczącej budowania aplikacji internetowych za pomocą technologii javascriptowych,
	\item nie ukrywam, że znaczący wpływ na moją decyzję miała również popularność języka JavaScript na rynku pracy.
\end{itemize}

%-----------------
% HTTP/2.0
%-----------------
\chapter{HTTP/2}

\section{Historia}
\label{sectionHistoria}
Pracę nad zmianami w protokole zapoczątkowała w 2009 roku firma Google ze swoim projektem SPDY.
Zdecydowali się oni na stworzenie protokołu, który miał usprawnić działanie aplikacji oraz stron internetowych rozwiązując ograniczenia nałożone przez HTTP/1.1.
Z biegiem czasu coraz więcej przeglądarek oraz stron internetowych, zarówno tych dużych jak i tych małych, zaczęło wspierać SPDY, co zainteresowało osoby pracujące nad protokołem HTTP.
Zdecydowali się oni wykorzystać dokumentację protokołu SPDY jako początek prac nad własnym protokołem -- HTTP/2.
Od tego momentu aż do roku 2015, kiedy to standard HTTP/2 został oficjalnie zaakceptowany 
(\TODO odnośnik RFC 7540 i może 7541), projekty były rozwijane równolegle.
SPDY było wykorzystywane do testów nowych funkcjonalności, które miały zostać wprowadzone do nowego protokołu HTTP.
Niedługo po oficjalnym zaakceptowaniu HTTP/2 ogłoszono, że SPDY nie będzie dalej wspierane.

W kilku poniższych akapitach postaram się przybliżyć zmiany, które zostały wprowadzone do protokołu HTTP.

\section{Protokół binarny}
\label{sectionProtokolBinarny}

Kluczową zmianą, która determinuje brak wstecznej kompatybilności z HTTP/1.1, jest przejście na kodowanie binarne przesyłanych wiadomości. Przykładowa ramka widoczna jest na rysunku \ref{schematRamki}
\begin{figure}[!htbp]
	\begin{center}
\centering
\includegraphics[scale=1.0]{\ImgPath/rys/ramka.png}
\end{center}
	\caption{Schemat ramki protokołu HTTP/2}
	\label{schematRamki}
\end{figure}
Jest to rozwiązanie dużo bardziej kompaktowe i łatwiejsze w implementacji, niż przesyłanie zwykłego tekstu.
Dzięki temu zabiegowi w ramach jednego połączenia TCP z serwerem może zostać utworzonych wiele dwukierunkowych strumieni danych przesyłających wiadomości HTTP.
Taka wiadomość to w rzeczywistości zapytanie od klienta lub odpowiedź serwera składające się z ramek.
Każda ramka natomiast musi przynajmniej posiadać nagłówek z informacją, do którego strumienia danych należy.
Kodowanie binarne nie ma wpływu na składnie zawartości ramki -- wszystkie nagłówki czy zapytania HTTP/1.1 pozostawiono bez zmian.

\section{Multiplexing}
\label{sectionMultiplexing}
W poprzedniej wersji protokołu, pomimo, że istniała możliwość przesyłania wielu zapytań w ramach jednego połączenia, nie można było wykonywać ich równolegle.
Każde zapytanie musiało być rozpatrywane i odesłane przez serwer do klienta zgodnie z kolejnością nadania, co powodowało efekt HOL (head-of-line blocking ODNOSNIK  DO JAKIEGOŚ ŹRÓDŁA?).
Aby wykonywać zapytania równolegle należało utworzyć kilka zapytań TCP, co obciąża serwer oraz jest czasochłonne.
Protokuł HTTP/2 umożlwia przesyłanie oraz odbieranie wielu wiadomości jednocześnie, co pokazuje schemat na rysunku \ref{schematMultiplexing}.
\begin{figure}[!htbp]
	\begin{center}
\centering
\includegraphics[scale=0.6]{\ImgPath/rys/multiplexing.png}
\end{center}
	\caption{Schemat wykorzystania multiplexingu w HTTP/2}
	\label{schematMultiplexing}
\end{figure}
Są one rozbijane na pojedyncze ramki, przesyłane, a następnie odczytywane i składane z powrotem w całość po stronie odbiorcy.
Dzięki temu nie jest już konieczne uciekanie się do takich zabiegów jak:
\begin{itemize}
	\item scalanie plików (WEBPACK),
	\item  wykorzystywanie spritów,
	\item domain sharding (DOCZYTAC).
\end{itemize}
To wszystko sprawia, że aplikacje stają się szybsze oraz prostsze.

\section{Prioretyzacja}

% wspomne o tym jesli zrobie testy

\section{Server push}
\label{sectionServerPush}

Wykorzystując protokół HTTP/1.1 nie mamy możliwości otrzymania zasobu, o który nie poprosiliśmy wysyłając zapytanie.
Powoduje to opóźnienia na przykład podczas ładowania strony internetowej.
Zanim otrzymamy skrypty czy arkusze styli, które wykorzystuje nasza strona musi ona o nie poprosić.
Zapytanie do serwera wysyłane jest gdy w kodzie pliku html napotkamy na taki kod (przykład z mojego projektu):
\begin{lstlisting}
<!-- CSS -->
<link rel="stylesheet"
	  href="libs/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet"
      href="libs/font-awesome/css/font-awesome.min.css">

<!-- JS -->
<script src="libs/angular/angular.min.js"></script>
\end{lstlisting}
Takie rozwiązanie, chociaż w wielu przypadkach jest pożądane, tutaj jedynie spowalnia działanie aplikacji.
Jeżeli mamy pewność, że użytkownik będzie potrzebował danych zasobów \ref{schematPush} możemy mu je od razu udostępnić, co zdecydowanie skraca czas ładowania aplikacji i dzięki temu unikam niechcianego efektu, gdy strona się załaduje, ale na przykład bez pliku zawierającego style, który jest dopiero przesyłany.
\begin{figure}[!htbp]
	\begin{center}
\centering
\includegraphics[scale=0.6]{\ImgPath/rys/push.png}
\end{center}
	\caption{Schemat Server push HTTP/2}
	\label{schematPush}
\end{figure}

%Podstawowy scenariusz, powszechny w literaturze na temat steganografii, odnosi 
%się do sytuacji opisanej w \cite{PrisonersProblem}. Dwóch więźniów (w naszym 
%przypadku Alicja(\tech{A}) i Bob(\tech{B})) zamknięci są w dwóch odrębnych 
%celach. 
%
%Przedstawioną tak sytuację pokazuje rysunek 
%\ref{schematKomunikacji}\footnote{sporządzony na podstawie 
%\cite{schematKomunikacjiPrzypis}, rysunek 1, strona 3}. \tech{A} próbuje 
%przesłać tajną informację \tech{E} do \tech{B}. Cała komunikacja odbywa się 
%przez kanał publiczny, kontrolowany przez \tech{W}. W celu ukrycia faktu 
%komunikacji \tech{A} stara się ukryć tajny przekaz w informacji \tech{C}. W celu 
%uzyskania skutecznej steganografii \tech{W} nie może rozróżnić informacji 
%poprawnej, nie zawierającej tajnych danych, od informacji \tech{S}, która 
%zawiera tajną informację. W celu dodatkowego zabezpieczenia przekazu, \tech{A} i 
%\tech{B} mogą korzystać z funkcji kryptograficznej zabezpieczającej przekazywane 
%informacje. Można tu wykorzystać metody kryptografii symetrycznej (ustalony 
%klucz kryptograficzny \tech{K}) lub niesymetrycznej (klucz publiczny 
%\tech{K}$_{pub}$ i klucz prywatny \tech{K}$_{pryw}$).


\section{Pipelining}

\chapter{Wnioski}

%numery wygenerowane przy pomocy \tech{Shushi} nie byłyby rozróżnialne 
%od numerów wygenerowanych przez stos sieciowy systemu.
%
%\begin{tabular}{c|cc}
%pierwsza kolumna & druga & trzecia \\ \hline
%1 & 2 & 3 \\
%a & b & c \\
%\end{tabular} 
%
%\begin{equation}
% E = m c^2 \label{einstein}
%\end{equation}

%-----------------
% Dodatki 
%-----------------
\appendix
\chapter{}


\begin{thebibliography}{99}
\addcontentsline{toc}{chapter}{Bibliografia}
\bibitem{Stevens}{W. R. Stevens, G. R. Wright, ,,Biblia TCP/IP tom 1'', RM, 
1998.}
\bibitem{USDoD}{U. S. Department Of Defense, ,,Trusted Computer System 
Evaluation Criteria'', 1985.}
\bibitem{FirstCC}{B. W. Lampson, ,,A note on the confinment problem'', w ,,Proc. 
of the Communications of the ACM'', październik 1973, numer 16:10,\newline 
strony 613-615.} 
\bibitem{PrisonersProblem}{G. J. Simmons, ,,The prisoners' problem and the 
subliminal channel'', w ,,Advances in Cryptology: Proceedings of Crypto 83 (D. 
Chaum, ed.)'', strony 51-67, Plenum Press, 1984.}
\bibitem{Kerckhoff}{ A. Kerckhoffs, ,,La Cryptographie Militaire (Military 
Cryptography)'', J. Sciences Militaires, luty 1883.} 
\bibitem{Hanssen}{A. Havill, ,,The Spy Who Stayed Out In The Cold: The Secret 
Life of Double Agent Robert Hanssen'', St. Martin's Press, 2001.}
\bibitem{schematKomunikacjiPrzypis}{C.Cachin, ,,An Information-Theoretic Model 
for Steganography'', w ,,Information and Computation'', 4 marzec 2004.}
\bibitem{SweetyPresentation}{S.Chauhan, ,,Embedding Covert Channels into 
TCP/IP'', 7th Information Hiding Workshop, czerwiec 2005.}
\bibitem{RFC793}{Information Sciences Institute, University of Southern 
California, ,,Transmission Control Protocol'', RFC793, wrzesień 1981.}
\bibitem{RFC1323}{V. Jacobson, R. Braden, D. Borman, ,,TCP extensions for high 
performance'', RFC1323, maj 1992.}
\bibitem{RFC1948}{S. Bellovin, ,,Defending against sequence number attacks.'', 
RFC1948, IETF, 1996.}
\bibitem{RFC2960}{R. Stewart, Q. Xie, K. Morneault, C. Sharp, H. Schwarzbauer, 
T. Taylor, I. Rytina, M. Kalla, L. Zhang, V. Paxson, „Stream Control 
Transmission Protocol”, RFC2960, Network Working Group, październik 2000.}
\bibitem{Rowland}{C. H. Rowland, ,,Covert Channels in the TCP/IP Protocol 
Suite'', First Monday, 1997. \newline 
\url{http://www.firstmonday.dk/issues/issue2\_5/rowland/}}
\bibitem{LOKI}{Alhambra, daemon9, ,,Project Loki: ICMP Tunneling'', Phrack 
Magazine, Issue 49. \url{http://phrack.org}}
\bibitem{LOKI2}{daemon9, ,,LOKI2'', Phrack Magazine, Issue 51. 
\url{http://phrack.org}}
\bibitem{RWWWS}{van Hauser, Reverse WWW Shell,  THC, The Hacker's 
Choice.\newline \url{www.thc.org}}
\bibitem{CCdetectionSVM}{T. Sohn, J. Seo, J. Moon, ,,A Study on the Covert 
Channel Detection of TCP/IP Header Using Support Vector Machine'', Volume 2836 
of Lecture Notes in Computer Science., Springer-Verlag (2003) 313-324.}
\bibitem{LOKIdetectionSVM}{T. Sohn, T. Noh, J. Moon, ,,Support Vector Machine 
Based ICMP Covert Channel Attack Detection'', Volume 2836 of Lecture Notes in 
Computer Science., Springer-Verlag, 2003, strony 461-464.}
\bibitem{devcc}{J. Giffin, R. Greenstadt, P. Litwack, R. Tibbetts, ,,Covert 
messaging in TCP'', w Dingledine, Privacy Enhancing Technologies. Volume 2482 of 
Lecture Notes in Computer Science., Springer-Verlag (2002) 194-208. 
\url{http://www.mit.edu/\textasciitilde gif/covert-channel/}}
\bibitem{ActiveWardens}{G. Fisk, M. Fisk, Ch. Papadopoulos, J. Neil, 
,,Eliminating Steganography in Internet Traffic with Active Wardens'', 5th 
International Workshop on Information Hiding, październik 2002.} 
\bibitem{JR}{J. Rutkowska, ,,The Implementation of Passive Covert Channels in 
Linux Kernel'', Chaos Communication Congress, grudzień 2004.}
\bibitem{LinuxNetwork}{Ch. Benvenuti, ,,Understanding Linux Network Internals'', 
O'Reilly,\newline grudzień 2005.}
\bibitem{p55}{kossak, ,,Building Into The Linux Network Layer'', Phrack 
Magazine, Issue 55. \url{http://phrack.org}}
\bibitem{ML}{Steven J.Murdoch and Stephen Lewis, ,,Embedding Covert Channels 
into TCP/IP'', University of Cambridge, Computer Laboratory,\newline 29 lipec 
2005.}
\bibitem{NvsNN}{Eugene Tumoian, Maxim Anikeev, ,,Detecting NUSHU Covert Channels 
Using Neural Networks'', Taganrog State University of Radio Engineering, 
Department of Information Security.}
\bibitem{p58}{mayhem, ,,IA32 Advanced Function Hooking'', Phrack 
Magazine,\newline Issue 58. \url{http://phrack.org}}
\bibitem{p61}{bioforge, ,,Hacking the Linux Kernel Network Stack'', Phrack 
Magazine, Issue 61. \url{http://phrack.org}}
\bibitem{kernelMEM}{Robert Love, ,,Kernel Korner - Allocating Memory in the 
Kernel'',\newline 1 grudzień 2003.}

\end{thebibliography}

%\zakonczenie  % wklejenie recenzji i opinii

\end{document}
%+++ END +++
